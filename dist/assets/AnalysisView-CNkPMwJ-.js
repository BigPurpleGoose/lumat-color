import{h as b,j as e,b as s,p as n,d as r,g as M,I,w as V,e as N,f as T,ab as B,ac as G,ad as F,ae as g,af as O,ag as p,ah as Q}from"./vendor-ui-PEyQLrjK.js";import{u as Y,g as K,a as W,b as q}from"./index-CSX1kYsl.js";import{c as J,g as X,h as Z,b as U}from"./opacityBlending-CJ2o7S7h.js";import"./vendor-react-D6La9ApI.js";import"./vendor-color-D1ETm4ty.js";function _(o,i){const l=o.l-i.l,x=o.c-i.c;let h=o.h-i.h;for(;h>180;)h-=360;for(;h<-180;)h+=360;return Math.sqrt(l*l+x*100*(x*100)+h/3.6*(h/3.6))}const ee=(o,i)=>{let l=i-o;for(;l>180;)l-=360;for(;l<-180;)l+=360;return l},te=(o,i)=>{const l=o.l-i.l,x=o.c-i.c,h=ee(o.h,i.h),C=_(o,i),u=o.l>0?Math.abs(l/o.l)*100:0;return{deltaL:l,deltaC:x,deltaH:h,deltaE:C,percentError:u}},re=(o,i)=>({intended:o,actual:i,delta:te(o,i)}),oe=o=>{if(o.length===0)return{averageDeltaE:0,maxDeltaE:{intended:{l:0,c:0,h:0},actual:{l:0,c:0,h:0},delta:{deltaL:0,deltaC:0,deltaH:0,deltaE:0,percentError:0}},averageLightnessDelta:0,maxLightnessDelta:{intended:{l:0,c:0,h:0},actual:{l:0,c:0,h:0},delta:{deltaL:0,deltaC:0,deltaH:0,deltaE:0,percentError:0}},overallQuality:"excellent"};const i=o.reduce((m,f)=>m+f.delta.deltaE,0),l=o.reduce((m,f)=>m+Math.abs(f.delta.deltaL),0),x=i/o.length,h=l/o.length,C=o.reduce((m,f)=>f.delta.deltaE>m.delta.deltaE?f:m),u=o.reduce((m,f)=>Math.abs(f.delta.deltaL)>Math.abs(m.delta.deltaL)?f:m);let d;return x<1?d="excellent":x<2?d="good":x<5?d="fair":d="poor",{averageDeltaE:x,maxDeltaE:C,averageLightnessDelta:h,maxLightnessDelta:u,overallQuality:d}},z=(o,i=2)=>`${o>=0?"+":""}${o.toFixed(i)}`,ne=({color:o,backgroundHex:i})=>{const[l,x]=b.useState(60),h=b.useMemo(()=>{const d=J(o.L,o.C,o.H,i,l,1);return{minOpacity:d,canMeetTarget:d!==null,percentage:d?`${d}%`:"N/A"}},[o,i,l]),C=d=>d>=90?"Body Text (minimum)":d>=75?"Large Text (minimum)":d>=60?"Headlines & UI (recommended)":d>=45?"Placeholder Text (minimum)":d>=30?"Disabled/Decorative":"Insufficient for text",u=d=>d>=90?"#22c55e":d>=75?"#3b82f6":d>=60?"#f59e0b":d>=45?"#facc15":"#71717a";return e.jsx(s,{style:{backgroundColor:"#18181b",borderRadius:"8px",padding:"16px",border:"1px solid #3f3f46"},children:e.jsxs(n,{direction:"column",gap:"4",children:[e.jsxs(n,{align:"center",justify:"between",children:[e.jsxs(s,{children:[e.jsx(r,{size:"3",weight:"bold",mb:"1",children:"Minimum Opacity Calculator"}),e.jsx(r,{size:"2",color:"gray",children:"Find the minimum opacity required to meet a target APCA contrast level (Lc)"})]}),e.jsx(M,{size:"2",color:h.canMeetTarget?"green":"red",style:{fontFamily:"monospace",fontSize:"14px"},children:h.canMeetTarget?h.percentage:"Cannot Meet Target"})]}),e.jsx(s,{style:{padding:"12px",borderRadius:"6px",border:"1px solid #3f3f46",backgroundColor:"#09090b"},children:e.jsxs(n,{gap:"2",align:"start",children:[e.jsx(I,{style:{width:"16px",height:"16px",color:"#6366f1",flexShrink:0,marginTop:"2px"}}),e.jsxs(r,{size:"1",color:"gray",style:{lineHeight:"1.5"},children:[e.jsx("strong",{children:"APCA (Accessible Perceptual Contrast Algorithm)"})," ","is a modern contrast method that accounts for text size, weight, and polarity. Use this calculator to find the minimum opacity needed for your color to meet accessibility requirements when placed on the current background."]})]})}),e.jsxs(n,{direction:"column",gap:"2",children:[e.jsxs(n,{align:"center",justify:"between",children:[e.jsx(r,{size:"2",weight:"medium",children:"Target APCA Lc Value"}),e.jsxs(n,{align:"center",gap:"3",children:[e.jsx(M,{size:"2",color:u(l)==="#22c55e"?"green":u(l)==="#3b82f6"?"blue":u(l)==="#f59e0b"?"orange":u(l)==="#facc15"?"yellow":"gray",children:C(l)}),e.jsxs(r,{size:"3",weight:"bold",style:{fontFamily:"monospace",minWidth:"60px",textAlign:"right",color:u(l)},children:["Lc ",l]})]})]}),e.jsx(V,{value:[l],onValueChange:d=>x(d[0]),min:30,max:106,step:1,style:{flexGrow:1}}),e.jsxs(n,{justify:"between",children:[e.jsx(r,{size:"1",color:"gray",children:"Lc 30 (Decorative)"}),e.jsx(r,{size:"1",color:"gray",children:"Lc 106 (Maximum)"})]})]}),e.jsx(s,{style:{padding:"16px",borderRadius:"8px",border:h.canMeetTarget?"2px solid #22c55e":"2px solid #ef4444",backgroundColor:h.canMeetTarget?"rgba(34, 197, 94, 0.05)":"rgba(239, 68, 68, 0.05)"},children:e.jsx(n,{direction:"column",gap:"2",align:"center",children:h.canMeetTarget?e.jsxs(e.Fragment,{children:[e.jsx(r,{size:"2",color:"gray",children:"Minimum opacity required:"}),e.jsx(r,{size:"8",weight:"bold",style:{fontFamily:"monospace",color:"#22c55e"},children:h.percentage}),e.jsxs(r,{size:"1",color:"gray",style:{textAlign:"center"},children:["Using this color at ",e.jsx("strong",{children:h.percentage})," ","opacity will meet or exceed the target APCA Lc value of"," ",e.jsx("strong",{children:l}),"on the current background."]})]}):e.jsxs(e.Fragment,{children:[e.jsx(r,{size:"2",style:{color:"#ef4444"},children:"Cannot Meet Target"}),e.jsxs(r,{size:"1",color:"gray",style:{textAlign:"center"},children:["This color cannot achieve the target APCA Lc value of"," ",e.jsx("strong",{children:l})," on the current background, even at 100% opacity. Consider using a color with higher contrast (different lightness) or adjusting the target Lc value."]})]})})}),e.jsxs(s,{style:{padding:"12px",borderRadius:"6px",border:"1px solid #3f3f46",backgroundColor:"#09090b"},children:[e.jsx(r,{size:"2",weight:"medium",mb:"2",style:{display:"block"},children:"APCA Lc Guidelines:"}),e.jsxs(n,{direction:"column",gap:"1",children:[e.jsxs(n,{align:"center",gap:"2",children:[e.jsx(s,{style:{width:"8px",height:"8px",borderRadius:"50%",backgroundColor:"#22c55e"}}),e.jsxs(r,{size:"1",color:"gray",children:[e.jsx("strong",{children:"Lc 90+"}),": Body text (minimum 12-14px)"]})]}),e.jsxs(n,{align:"center",gap:"2",children:[e.jsx(s,{style:{width:"8px",height:"8px",borderRadius:"50%",backgroundColor:"#3b82f6"}}),e.jsxs(r,{size:"1",color:"gray",children:[e.jsx("strong",{children:"Lc 75+"}),": Large text (minimum 18px or 14px bold)"]})]}),e.jsxs(n,{align:"center",gap:"2",children:[e.jsx(s,{style:{width:"8px",height:"8px",borderRadius:"50%",backgroundColor:"#f59e0b"}}),e.jsxs(r,{size:"1",color:"gray",children:[e.jsx("strong",{children:"Lc 60+"}),": Headlines, UI elements (recommended)"]})]}),e.jsxs(n,{align:"center",gap:"2",children:[e.jsx(s,{style:{width:"8px",height:"8px",borderRadius:"50%",backgroundColor:"#facc15"}}),e.jsxs(r,{size:"1",color:"gray",children:[e.jsx("strong",{children:"Lc 45+"}),": Placeholder text, disabled elements"]})]}),e.jsxs(n,{align:"center",gap:"2",children:[e.jsx(s,{style:{width:"8px",height:"8px",borderRadius:"50%",backgroundColor:"#71717a"}}),e.jsxs(r,{size:"1",color:"gray",children:[e.jsx("strong",{children:"Lc 30-44"}),": Decorative elements only (not for text)"]})]})]})]})]})})},de=({scale:o})=>{const{selectedBackground:i,getLightnessSteps:l,globalSettings:x}=Y(),[h,C]=b.useState(!1),[u,d]=b.useState(8),[m,f]=b.useState(8),[S,E]=b.useState(null),A=o?l(o):[],H=x.opacitySteps||[],v=X(Z(i)),j=b.useMemo(()=>o?A.map(t=>{const a=t/100;return K(a,o.manualChroma,o.hue,o.hueCurve,o.chromaCurve,{contrastMode:o.contrastMode||"standard",calculateContrast:!0,targetBackground:o.targetBackground||"white",targetLc:o.apcaTargetLc,targetWcagRatio:o.wcagTargetRatio,chromaCompensation:o.chromaCompensation??!0})}):[],[o,A]),R=b.useMemo(()=>!o||j.length===0?[]:A.map((t,a)=>{const c=j[a];if(!c)return null;const y={l:t,c:c.C,h:c.H},L={l:c.L*100,c:c.C,h:c.H},w=re(y,L),k=U(c.L*100,c.C||0,c.H||0,100,i,x.blendMode||"srgb");return{targetL:t,comparison:w,actual:c,blendResult:k,wcagContrast:q(k.luminance,v),apcaContrast:W(k.luminance,v),gamutInfo:c.gamutInfo}}).filter(Boolean),[j,A,o,i,v,x]),$=b.useMemo(()=>{if(j.length===0)return[];const t=Math.min(u,j.length-1),a=j[t];return a?H.map(c=>{const y=U(a.L*100,a.C||0,a.H||0,c,i,x.blendMode||"srgb");return{opacity:c,refColor:a,blendResult:y,wcagContrast:q(y.luminance,v),apcaContrast:W(y.luminance,v)}}):[]},[j,u,H,i,v,x]),D=b.useMemo(()=>R.length===0?{averageDeltaE:0,maxDeltaE:{intended:{l:0,c:0,h:0},actual:{l:0,c:0,h:0},delta:{deltaL:0,deltaC:0,deltaH:0,deltaE:0,percentError:0}},averageLightnessDelta:0,maxLightnessDelta:{intended:{l:0,c:0,h:0},actual:{l:0,c:0,h:0},delta:{deltaL:0,deltaC:0,deltaH:0,deltaE:0,percentError:0}},overallQuality:"excellent"}:oe(R.map(t=>t.comparison)),[R]),P=t=>{navigator.clipboard.writeText(t),C(!0),setTimeout(()=>C(!1),2e3)};return!o||j.length===0?e.jsx(n,{align:"center",justify:"center",style:{height:"100%",padding:"20px"},children:e.jsx(r,{color:"gray",children:"No scale data available"})}):e.jsx(N,{style:{flex:1},children:e.jsxs(n,{direction:"column",gap:"4",p:"4",style:{paddingBottom:"80px"},children:[e.jsx(s,{style:{backgroundColor:"#18181b",borderRadius:"8px",padding:"16px",border:"1px solid #3f3f46"},children:e.jsxs(n,{align:"start",gap:"3",children:[e.jsx(I,{style:{width:"20px",height:"20px",color:"#6366f1",flexShrink:0,marginTop:"2px"}}),e.jsxs(n,{direction:"column",gap:"1",style:{flex:1},children:[e.jsx(r,{size:"2",weight:"bold",children:"Color Accuracy Analysis"}),e.jsx(r,{size:"2",color:"gray",children:"This view shows how accurately the color generation matches your intended lightness values, accounting for P3 gamut mapping and contrast modes."})]})]})}),e.jsxs(n,{gap:"3",wrap:"wrap",children:[e.jsxs(T,{style:{flex:"1",minWidth:"150px",backgroundColor:"#18181b",padding:"16px",border:"1px solid #3f3f46"},children:[e.jsx(r,{size:"1",color:"gray",mb:"1",children:"Average Delta L*"}),e.jsx(r,{size:"6",weight:"bold",style:{color:"#6366f1"},children:D.averageLightnessDelta.toFixed(2)})]}),e.jsxs(T,{style:{flex:"1",minWidth:"150px",backgroundColor:"#18181b",padding:"16px",border:"1px solid #3f3f46"},children:[e.jsx(r,{size:"1",color:"gray",mb:"1",children:"Average Delta E*"}),e.jsx(r,{size:"6",weight:"bold",style:{color:"#22c55e"},children:D.averageDeltaE.toFixed(2)})]}),e.jsxs(T,{style:{flex:"1",minWidth:"150px",backgroundColor:"#18181b",padding:"16px",border:"1px solid #3f3f46"},children:[e.jsx(r,{size:"1",color:"gray",mb:"1",children:"Max Delta E*"}),e.jsx(r,{size:"6",weight:"bold",style:{color:"#f97316"},children:D.maxDeltaE.delta.deltaE.toFixed(2)})]})]}),e.jsxs(s,{children:[e.jsx(r,{size:"2",weight:"bold",mb:"3",children:"Color Ramp (Intended vs Actual)"}),e.jsx(r,{size:"1",color:"gray",mb:"3",children:"Top half shows intended color, bottom half shows actual after gamut mapping. Hover to highlight corresponding table row."}),e.jsx(n,{gap:"3",wrap:"wrap",children:R.filter(t=>t!==null).map((t,a)=>{const c=`oklch(${t.comparison.intended.l}% ${t.comparison.intended.c} ${t.comparison.intended.h})`,y=`oklch(${t.actual.L*100}% ${t.actual.C} ${t.actual.H})`,L=t.comparison.delta.deltaL,w=t.comparison.delta.deltaE,k=Math.abs(L)<2.5;return e.jsxs(n,{direction:"column",align:"center",gap:"2",onMouseEnter:()=>E(a),onMouseLeave:()=>E(null),style:{cursor:"pointer"},children:[e.jsxs(r,{size:"1",style:{fontFamily:"monospace",color:"#a1a1aa",fontSize:"10px"},children:["#",a+1," · L",t.targetL]}),e.jsxs(s,{style:{width:"64px",height:"160px",borderRadius:"12px",overflow:"hidden",display:"flex",flexDirection:"column",position:"relative",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.5)",border:`2px solid ${S===a?"#6366f1":"rgba(255, 255, 255, 0.1)"}`,transition:"transform 0.2s, border-color 0.2s",transform:S===a?"translateY(-4px)":"none"},onClick:()=>P(t.blendResult.hex),title:`Click to copy
Target: L${t.targetL}
Actual: L${(t.actual.L*100).toFixed(1)}
ΔL: ${z(L)}
ΔE: ${z(w)}`,children:[e.jsx(s,{style:{flex:1,backgroundColor:c}}),e.jsx(s,{style:{flex:1,backgroundColor:y}}),e.jsx(s,{style:{position:"absolute",top:"50%",left:0,right:0,height:"2px",backgroundColor:"rgba(0, 0, 0, 0.5)",transform:"translateY(-1px)"}}),e.jsxs(s,{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",backgroundColor:k?"rgba(34, 197, 94, 0.9)":"rgba(250, 204, 21, 0.9)",color:k?"#fff":"#000",padding:"2px 6px",borderRadius:"4px",fontSize:"9px",fontWeight:"bold",fontFamily:"monospace",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.2)"},children:["ΔL ",z(L)]})]}),e.jsxs(n,{direction:"column",align:"center",gap:"0",children:[e.jsxs(r,{size:"1",style:{fontFamily:"monospace",color:"#71717a",fontSize:"9px"},children:["Actual L",(t.actual.L*100).toFixed(1)]}),e.jsxs(r,{size:"1",weight:"bold",style:{fontFamily:"monospace",color:w<1?"#22c55e":w<2?"#60a5fa":w<5?"#facc15":"#f87171",fontSize:"9px"},children:["ΔE ",z(w)]})]})]},a)})})]}),e.jsx(s,{style:{backgroundColor:"#18181b",borderRadius:"8px",padding:"16px",border:"1px solid #3f3f46"},children:e.jsxs(n,{direction:"column",gap:"3",children:[e.jsxs(n,{align:"center",justify:"between",children:[e.jsxs(s,{children:[e.jsx(r,{size:"3",weight:"bold",mb:"1",children:"Opacity Blending Demonstration"}),e.jsx(r,{size:"2",color:"gray",children:"See how opacity affects the final blended color against the current background. Colors are blended in linear RGB space for perceptually accurate results. The resulting L* values are NOT simple weighted averages due to non-linear gamma curves - this is correct behavior."}),e.jsx(r,{size:"1",mt:"2",style:{color:"#facc15",lineHeight:"1.6"},children:"⚠️ Low opacity values (≤20%) produce colors very close to the background, resulting in minimal contrast. Use higher opacity (≥40%) for accessible text/UI elements."})]}),e.jsxs(n,{align:"center",gap:"2",children:[e.jsx(r,{size:"1",color:"gray",children:"Reference:"}),e.jsx("select",{value:u,onChange:t=>d(Number(t.target.value)),style:{backgroundColor:"#27272a",color:"#a1a1aa",padding:"0.375rem 0.75rem",borderRadius:"0.375rem",fontSize:"0.875rem",border:"1px solid #3f3f46",outline:"none",cursor:"pointer"},children:A.map((t,a)=>e.jsxs("option",{value:a,children:["#",a+1,": L",t," (",j[a]?.hex||"",")"]},a))})]})]}),e.jsx(n,{gap:"2",wrap:"wrap",children:$.map((t,a)=>{const c=t.opacity>=40&&(t.wcagContrast>=4.5||Math.abs(t.apcaContrast)>=60);return e.jsxs(n,{direction:"column",align:"center",gap:"1",style:{minWidth:"80px"},children:[e.jsxs(r,{size:"1",style:{fontFamily:"monospace",color:"#71717a"},children:[t.opacity,"%"]}),e.jsxs(s,{style:{width:"60px",height:"100px",borderRadius:"8px",overflow:"hidden",border:`2px solid ${c?"#22c55e":"#71717a"}`,cursor:"pointer"},onClick:()=>P(t.blendResult.hex),title:`${t.opacity}% opacity
${t.blendResult.hex}
WCAG: ${t.wcagContrast.toFixed(1)}:1
APCA: Lc ${Math.abs(t.apcaContrast).toFixed(0)}`,children:[e.jsx(s,{style:{height:"50%",backgroundColor:t.refColor.hex}}),e.jsx(s,{style:{height:"50%",backgroundColor:t.blendResult.hex}})]}),e.jsxs(r,{size:"1",style:{fontFamily:"monospace",fontSize:"9px",color:c?"#22c55e":"#71717a"},children:["L",t.blendResult.lightness.toFixed(0)]})]},a)})}),e.jsxs(s,{style:{borderRadius:"8px",overflow:"hidden",border:"1px solid #3f3f46",backgroundColor:"#09090b"},children:[e.jsx(s,{style:{padding:"12px",borderBottom:"1px solid #3f3f46",backgroundColor:"#18181b"},children:e.jsxs(n,{gap:"2",align:"start",children:[e.jsx(I,{style:{width:"16px",height:"16px",color:"#6366f1",flexShrink:0,marginTop:"2px"}}),e.jsxs(r,{size:"1",color:"gray",style:{lineHeight:"1.5"},children:[e.jsx("strong",{children:"Opacity Blending:"})," Values are calculated using linear RGB alpha compositing (industry standard). L* values don't blend linearly—this is correct due to gamma correction in the sRGB → Y → L* conversion. Contrast ratios show if the semi-transparent element meets accessibility requirements on this background."]})]})}),e.jsxs(B,{children:[e.jsx(G,{children:e.jsxs(F,{children:[e.jsx(g,{children:"Opacity"}),e.jsx(g,{children:"Blended L*"}),e.jsx(g,{children:"Hex"}),e.jsx(g,{children:"WCAG"}),e.jsx(g,{children:"APCA"})]})}),e.jsx(O,{children:$.map((t,a)=>e.jsxs(F,{children:[e.jsx(p,{children:e.jsxs(r,{style:{fontFamily:"monospace",fontWeight:"bold"},children:[t.opacity,"%"]})}),e.jsx(p,{children:e.jsx(r,{style:{fontFamily:"monospace"},children:t.blendResult.lightness.toFixed(1)})}),e.jsx(p,{children:e.jsxs(n,{align:"center",gap:"2",children:[e.jsx(s,{style:{width:"20px",height:"20px",backgroundColor:t.blendResult.hex,borderRadius:"4px",border:"1px solid #3f3f46"}}),e.jsx(r,{style:{fontFamily:"monospace",fontSize:"11px"},children:t.blendResult.hex})]})}),e.jsx(p,{children:e.jsxs(r,{style:{fontFamily:"monospace",fontSize:"11px",color:t.wcagContrast>=7?"#22c55e":t.wcagContrast>=4.5?"#facc15":"#71717a"},children:[t.wcagContrast.toFixed(1),":1"]})}),e.jsx(p,{children:e.jsxs(r,{style:{fontFamily:"monospace",fontSize:"11px",color:Math.abs(t.apcaContrast)>=75?"#22c55e":Math.abs(t.apcaContrast)>=60?"#facc15":"#71717a"},children:["Lc ",Math.abs(t.apcaContrast).toFixed(0)]})})]},a))})]})]})]})}),e.jsx(ne,{color:j[m],backgroundHex:i}),e.jsxs(s,{children:[e.jsx(r,{size:"2",weight:"bold",mb:"3",children:"Detailed Analysis"}),e.jsx(s,{style:{backgroundColor:"#18181b",borderRadius:"8px",border:"1px solid #3f3f46",overflow:"hidden"},children:e.jsxs(B,{children:[e.jsx(G,{children:e.jsxs(F,{children:[e.jsx(g,{children:"Step"}),e.jsx(g,{children:"Target L*"}),e.jsx(g,{children:"Actual L*"}),e.jsx(g,{children:"ΔL*"}),e.jsx(g,{children:"ΔC*"}),e.jsx(g,{children:"ΔE*"}),e.jsx(g,{children:"Quality"}),e.jsx(g,{children:"WCAG"}),e.jsx(g,{children:"APCA"}),e.jsx(g,{children:"Gamut"})]})}),e.jsx(O,{children:R.filter(t=>t!==null).map((t,a)=>{const c=t.comparison.delta.deltaE,y=c<1?"Excellent":c<2?"Good":c<5?"Fair":"Poor",L=c<1?"#22c55e":c<2?"#60a5fa":c<5?"#facc15":"#f87171";return e.jsxs(F,{style:{backgroundColor:S===a?"rgba(99, 102, 241, 0.1)":"transparent",transition:"background-color 0.2s"},onMouseEnter:()=>E(a),onMouseLeave:()=>E(null),children:[e.jsx(p,{children:e.jsx(M,{color:"indigo",children:a+1})}),e.jsx(p,{children:e.jsx(r,{style:{fontFamily:"monospace"},children:t.targetL})}),e.jsx(p,{children:e.jsx(r,{style:{fontFamily:"monospace"},children:(t.actual.L*100).toFixed(1)})}),e.jsx(p,{children:e.jsx(r,{style:{fontFamily:"monospace",color:Math.abs(t.comparison.delta.deltaL)>2?"#f97316":"#22c55e"},children:z(t.comparison.delta.deltaL)})}),e.jsx(p,{children:e.jsx(r,{style:{fontFamily:"monospace",fontSize:"11px"},children:z(t.comparison.delta.deltaC)})}),e.jsx(p,{children:e.jsx(r,{style:{fontFamily:"monospace",color:t.comparison.delta.deltaE>5?"#f97316":t.comparison.delta.deltaE>2?"#facc15":"#22c55e"},children:z(t.comparison.delta.deltaE)})}),e.jsx(p,{children:e.jsx(M,{style:{backgroundColor:L,color:"white",fontWeight:"500"},children:y})}),e.jsx(p,{children:e.jsxs(r,{style:{fontFamily:"monospace",fontSize:"11px"},children:[t.wcagContrast.toFixed(1),":1"]})}),e.jsx(p,{children:e.jsxs(r,{style:{fontFamily:"monospace",fontSize:"11px"},children:["Lc ",Math.abs(t.apcaContrast).toFixed(0)]})}),e.jsx(p,{children:t.gamutInfo?.wasModified?e.jsxs(n,{direction:"column",gap:"1",children:[e.jsx(M,{color:"orange",variant:"soft",children:"Modified"}),t.gamutInfo.chromaReduction>0&&e.jsxs(r,{size:"1",style:{color:"#94a3b8"},children:["C↓"," ",t.gamutInfo.chromaReduction.toFixed(1),"%"]}),t.gamutInfo.lightnessShift!==0&&e.jsxs(r,{size:"1",style:{color:"#94a3b8"},children:["L",t.gamutInfo.lightnessShift>0?"↑":"↓"," ",Math.abs(t.gamutInfo.lightnessShift).toFixed(1)]})]}):e.jsx(M,{color:"green",variant:"soft",children:"In Gamut"})})]},a)})})]})})]}),e.jsxs(s,{style:{backgroundColor:"#18181b",borderRadius:"8px",padding:"12px",border:"1px solid #3f3f46"},children:[e.jsx(r,{size:"1",weight:"bold",mb:"2",style:{color:"#a1a1aa"},children:"Understanding Delta Values:"}),e.jsxs(n,{direction:"column",gap:"1",children:[e.jsxs(r,{size:"1",color:"gray",children:["• ",e.jsx("strong",{children:"ΔL*"}),": Lightness difference (target vs actual)"]}),e.jsxs(r,{size:"1",color:"gray",children:["• ",e.jsx("strong",{children:"ΔC*"}),": Chroma difference (may change due to gamut mapping)"]}),e.jsxs(r,{size:"1",color:"gray",children:["• ",e.jsx("strong",{children:"ΔE*"}),": Overall perceptual difference (ΔE < 1 is imperceptible)"]}),e.jsxs(r,{size:"1",color:"gray",children:["• ",e.jsx("strong",{children:"Gamut Clipping"}),": Colors adjusted to fit P3 display gamut"]})]})]}),h&&e.jsx(s,{style:{position:"fixed",bottom:"24px",right:"24px",backgroundColor:"#22c55e",color:"white",padding:"12px 16px",borderRadius:"8px",fontWeight:"500",zIndex:100},children:e.jsxs(n,{align:"center",gap:"2",children:[e.jsx(Q,{}),"Copied to clipboard!"]})})]})})};export{de as AnalysisView};
