# Project-Wide Export Feature

## Overview

Enhanced export functionality that allows users to export all color scales from an active project at once, rather than exporting scales individually.

## New Components

### ProjectExportDialog.tsx

A comprehensive export dialog that exports all scales from the active project simultaneously.

**Features:**

- **Multiple Export Formats:**

  - CSS (CSS Variables)
  - SCSS (Sass Variables)
  - Tailwind Config
  - JSON
  - Design Tokens
  - HTML (Documentation)
  - SVG (Visual Matrix)
  - Markdown
  - CSV (Spreadsheet)
  - SwiftUI (Swift Code)
  - Figma Tokens

- **Export Options:**

  - Include/exclude metadata (hue, chroma, contrast mode)
  - Include/exclude P3 color space values
  - Live preview of export content

- **Actions:**
  - Copy to clipboard
  - Download as file
  - Open in new tab (for HTML/SVG)

**Usage:**

- Generates colors for all scales in the project
- Groups scales by name with proper naming conventions
- Includes project-level metadata in exports
- Formats output appropriately for each export type

## Integration Points

### Sidebar.tsx

Added "Export All Scales" button in the footer actions section:

- Located below "New Scale" and above "Global Settings"
- Disabled when project has no scales
- Opens ProjectExportDialog on click

### ProjectManager.tsx

Added "Export All Scales" button in the project manager header:

- Available alongside "New Project" and "Import"
- Disabled when no project is active
- Opens ProjectExportDialog for comprehensive export

## Export Format Details

### CSS Format

```css
/* Project Name - Generated by Lumat
 * N color scales
 * Generated: [date]
 */

:root {
  /* Scale Name - Hue: XXXÂ° | Chroma: X.XX */
  --scale-name-50: #hexcode;
  --scale-name-50-p3: color(display-p3...);
  /* ... more steps */
}
```

### JSON Format

```json
{
  "name": "Project Name",
  "metadata": {
    "scalesCount": 3,
    "generatedAt": "ISO timestamp"
  },
  "scales": {
    "scale-name": {
      "metadata": { ... },
      "colors": {
        "50": {
          "hex": "#...",
          "oklch": "oklch(...)",
          "p3": "color(display-p3 ...)",
          "lightness": 50,
          "chroma": 0.25,
          "hue": 280
        }
      }
    }
  }
}
```

### HTML Format

Generates a complete standalone HTML page with:

- Responsive grid layout
- All scales organized by name
- Swatch previews with color values
- Metadata annotations
- Dark theme styling
- Mobile-friendly design

### SVG Format

Creates a visual matrix showing:

- All scales as rows
- Lightness steps as columns
- Color swatches with step labels
- Scale names and metadata
- Scalable vector graphics for high-quality export

## User Workflows

### From Sidebar

1. Work on multiple color scales in a project
2. Click "Export All Scales" button in sidebar footer
3. Select desired export format
4. Configure export options (metadata, P3)
5. Preview the export
6. Copy, download, or open in new tab

### From Project Manager

1. Open Project Manager
2. Click "Export All Scales" button
3. Follow same export workflow as above

## Benefits

1. **Efficiency:** Export entire project in one action instead of exporting each scale individually
2. **Consistency:** All scales use the same export settings and format
3. **Documentation:** Generate comprehensive documentation for entire color systems
4. **Integration:** Ready-to-use exports for design systems, style guides, and codebases
5. **Flexibility:** Multiple format options for different use cases and tools

## Technical Implementation

### Color Generation

- Uses existing `generateColor()` utility from colorEngine
- Respects per-scale settings (hue, chroma, curves, contrast modes)
- Applies global lightness steps configuration
- Generates colors on-demand with memoization

### Format Generation

- Separate generator function for each format
- Consistent naming conventions (kebab-case)
- Proper escaping and formatting
- Optional metadata inclusion
- P3 fallback support

### Performance

- Memoized color generation
- Efficient reduce operations for data transformation
- Lazy rendering of preview content
- Optimized for large projects with many scales

## Future Enhancements

Potential improvements:

- Batch export multiple projects
- Custom export templates
- Export presets (save common export configurations)
- Integration with design tools APIs (Figma, Sketch)
- Export scheduling/automation
- Version comparison between exports
- Color accessibility reports in exports
