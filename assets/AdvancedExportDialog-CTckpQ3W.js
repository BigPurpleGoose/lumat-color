import{b as L,R as Ve,j as e,s as Je,p as Ke,g as Ye,m as qe,c as j,d as m,h as w,o as F,e as Qe,f as Xe,P,i as me,k as Ze,O as et,D as tt,C as st,l as at,n as nt,q as rt,J as Ae,x as H,L as ae,ad as ot,ae as it,af as ke,ag as q,ah as ct,ai as Q,y as X}from"./vendor-ui-BT5Y1sOB.js";import{c as lt}from"./vendor-color-D1ETm4ty.js";import{u as ye,B as dt,c as G,d as O,W as z}from"./index-D-wgux2d.js";import{a as pe,b as xe,g as ht,c as Le}from"./documentationExport-BxLMmq5H.js";import"./vendor-react-CpNYPCDL.js";function gt(K,T,n,l={}){const{includeP3Fallbacks:Z=!0,includeComments:M=!0,includeLightnessNotes:W=!0,format:$="custom-properties",rootSelector:Y=":root"}=l,v=K.name.toLowerCase().replace(/\s/g,"-");let c="";return M&&(c+=`/*
`,c+=` * ${K.name} Color Scale
`,c+=` * Generated by Lumat Color System Designer
`,c+=` * 
`,c+=` * Format: OKLCH (perceptually uniform)
`,c+=` * Gamut: Display P3 (sRGB fallback included)
`,c+=` * Contrast Mode: ${K.contrastMode||"standard"}
`,c+=` */

`),c+=`${Y} {
`,M&&(c+=`  /* sRGB Fallback (hex) - Universal support */
`),T.forEach((A,E)=>{const k=n[E],N=Math.round(A.L*100);let B="";M&&(B+=` /* ${A.oklch}`,W&&N!==k&&(B+=` | Actual L: ${N}`),B+=" */"),c+=`  --${v}-${k}: ${A.hex};${B}
`}),Z&&(c+=`
`,M&&(c+=`  /* Display P3 Enhanced Values */
`),T.forEach((A,E)=>{const k=n[E];let N="";M&&(N=" /* P3 gamut, wider color range */"),c+=`  --${v}-${k}-p3: ${A.cssP3};${N}
`})),c+=`}
`,Z&&(c+=`
`,M&&(c+=`/*
`,c+=` * Progressive Enhancement: P3 Override
`,c+=` * Activates on wide-gamut displays (Safari, Chrome)
`,c+=` */
`),c+=`@supports (color: color(display-p3 1 1 1)) {
`,c+=`  @media (color-gamut: p3) {
`,c+=`    ${Y} {
`,T.forEach((A,E)=>{const k=n[E];c+=`      --${v}-${k}: var(--${v}-${k}-p3);
`}),c+=`    }
`,c+=`  }
`,c+=`}
`),M&&(c+=`
`,c+=`/*
`,c+=` * Usage Examples:
`,c+=` * 
`,c+=` * .button {
`,c+=` *   background: var(--${v}-${n[Math.floor(n.length/2)]});
`,c+=` *   color: var(--${v}-${n[0]});
`,c+=` * }
`,c+=` * 
`,c+=` * Browser Support:
`,c+=` * - sRGB (hex): 99%+ (all browsers)
`,c+=` * - Display P3: Safari 10+, Chrome 111+, Edge 111+
`,c+=` * - Fallback: Automatic via @supports + @media
`,c+=` */
`),c}const J=lt("oklch"),vt=({isOpen:K,onClose:T,scale:n,colors:l})=>{const{globalSettings:Z}=ye(),M=Z.backgroundPresets||dt,W=i=>{if(!i)return M[0];let t=M.find(r=>r.name===i);if(!t){const d={"canvas-bg":"white","canvas-bg-lv1":"light1","canvas-bg-lv2":"light2","canvas-bg (E2)":"dark1","canvas-bg (E)":"contrast"}[i];d&&(t=M.find(o=>o.name===d))}return t||M[0]},[$,Y]=L.useState("html"),[v,c]=L.useState("swatches"),[A,E]=L.useState(!0),[k,N]=L.useState(!0),[B,ue]=L.useState(!1),[ee,be]=L.useState(!0),[ne,Me]=L.useState(30),[re,Se]=L.useState(120),[oe,Fe]=L.useState(1),[ie,Pe]=L.useState(21),[ce,ze]=L.useState(!0),{getLightnessSteps:Ge}=ye(),x=Ge(n),y=(()=>{switch(v){case"swatches":return["html","svg","markdown"];case"guidelines":return["html","markdown"];case"contrast":return["html","csv","markdown"];case"matrix":return["html","svg","markdown"];case"report":return["html","markdown"];case"code":return["css","scss","tailwind","json","tokens","swiftui","figma","markdown"];default:return["html","markdown"]}})();Ve.useEffect(()=>{y.includes($)||Y(y[0])},[v,y,$]);const I=L.useMemo(()=>W(n.targetBackground),[n.targetBackground]),U=L.useMemo(()=>{const i=J(I.color);return i?{mode:"oklch",l:i.l,c:i.c||0,h:i.h||0}:{mode:"oklch",l:I.lightness/100,c:0,h:0}},[I]),_=()=>{if(A)return gt(n,l,x,{includeP3Fallbacks:k,includeComments:!0,includeLightnessNotes:!0});const i=n.name.toLowerCase().replace(/\s+/g,"-");let t=`:root {
`;return l.forEach((r,d)=>{const o=x[d];t+=`  --${i}-${o}: ${r.hex};
`,k&&r.cssP3&&(t+=`  --${i}-${o}-p3: ${r.cssP3};
`)}),t+=`}
`,t},le=()=>{const i=n.name.toLowerCase().replace(/\s+/g,"-");let t=A?`// ${n.name} - Generated by Lumat Radix
// Hue: ${n.hue}¬∞ | Chroma: ${(n.manualChroma||0).toFixed(2)} | Mode: ${n.contrastMode}

`:"";return l.forEach((r,d)=>{const o=x[d];t+=`$${i}-${o}: ${r.hex};
`,k&&r.cssP3&&(t+=`$${i}-${o}-p3: ${r.cssP3};
`)}),t},de=()=>{const i=n.name.toLowerCase().replace(/\s+/g,"-");let t=A?`// ${n.name} - Generated by Lumat Radix
// Add to tailwind.config.js

`:"";return t+=`module.exports = {
`,t+=`  theme: {
`,t+=`    extend: {
`,t+=`      colors: {
`,t+=`        ${i}: {
`,l.forEach((r,d)=>{const o=x[d];t+=`          ${o}: '${r.hex}',
`}),t+=`        },
`,t+=`      },
`,t+=`    },
`,t+=`  },
`,t+=`}
`,t},he=()=>{const i=n.name.toLowerCase().replace(/\s+/g,"-"),t={name:n.name,...A&&{metadata:{hue:n.hue,chroma:n.manualChroma,contrastMode:n.contrastMode,targetBackground:n.targetBackground,hueCurve:n.hueCurve,chromaCurve:n.chromaCurve}},colors:l.reduce((r,d,o)=>{const g=x[o];return r[`${i}-${g}`]={hex:d.hex,oklch:d.oklch,p3:k?d.cssP3:void 0,lightness:Math.round(d.L*100),chroma:parseFloat(d.C.toFixed(4)),hue:parseFloat(d.H.toFixed(1))},r},{})};return JSON.stringify(t,null,2)},fe=()=>{const i=n.name.toLowerCase().replace(/\s+/g,"-");return JSON.stringify(l.reduce((t,r,d)=>{const o=x[d];return t[`${i}.${o}`]={$type:"color",$value:r.hex,$description:`${n.name} ${o}`},t},{}),null,2)},Oe=()=>{const i=["Step","Lightness","Hex","OKLCH","P3","Chroma","Hue","WCAG (vs bg)","WCAG Precise","APCA (vs bg)","Rounding Note"].join(","),t=J(I.color);if(!t)return"Error converting background color";const r=o=>{const g=Number(o.toFixed(1)),f=Number(o.toFixed(2)),h=Number(o.toFixed(3))!==f,p=f!==g;let b,C;return h&&p?(b=`${g.toFixed(1)}‚Ä†:1`,C="Double rounded (3+ decimals ‚Üí 1 decimal)"):p?(b=`${g.toFixed(1)}*:1`,C="Single rounded (2 decimals ‚Üí 1 decimal)"):(b=`${g.toFixed(1)}:1`,C="No significant rounding"),{display:b,precise:`${o.toFixed(3)}:1`,note:C}},d=l.map((o,g)=>{const f=x[g],a={mode:"oklch",l:o.L,c:o.C,h:o.H},h={mode:"oklch",l:t.l,c:t.c||0,h:t.h||0},p=G(a,h),b=O(a,h),C=r(p);return[f,Math.round(o.L*100),o.hex,o.oklch,o.cssP3,o.C.toFixed(4),o.H.toFixed(1),C.display,C.precise,`Lc ${Math.abs(b).toFixed(0)}`,C.note].join(",")});return[i,...d].join(`
`)},ve=()=>{const i=n.name.replace(/\s+/g,"");let t=A?`// ${n.name} - Generated by Lumat Radix
// Hue: ${n.hue}¬∞ | Chroma: ${(n.manualChroma||0).toFixed(2)}

`:"";return t+=`extension Color {
`,l.forEach((r,d)=>{const o=x[d],g=r.hex.replace("#",""),f=parseInt(g.substring(0,2),16)/255,a=parseInt(g.substring(2,4),16)/255,h=parseInt(g.substring(4,6),16)/255;t+=`    static let ${i.toLowerCase()}${o} = Color(red: ${f.toFixed(3)}, green: ${a.toFixed(3)}, blue: ${h.toFixed(3)})
`}),t+=`}
`,t},we=()=>{const t={[n.name.toLowerCase().replace(/\s+/g,"-")]:{...A&&{$description:`${n.name} color scale`,$metadata:{hue:n.hue,chroma:n.manualChroma,contrastMode:n.contrastMode}},...Object.fromEntries(l.map((r,d)=>[x[d].toString(),{$value:r.hex,$type:"color",...k&&r.cssP3&&{$p3:r.cssP3}}]))}};return JSON.stringify(t,null,2)},Re=()=>{const t=W(n.targetBackground).color,r=J(t),d=r?{mode:"oklch",l:r.l,c:r.c||0,h:r.h||0}:{mode:"oklch",l:1,c:0,h:0},o=l.flatMap((s,u)=>l.slice(u+1).map((S,R)=>{const V=x[u],ge=x[u+R+1],D={mode:"oklch",l:s.L,c:s.C,h:s.H},se={mode:"oklch",l:S.L,c:S.C,h:S.H},je=G(D,se),$e=Math.abs(O(D,se));return{step1:V,step2:ge,color1:s.hex,color2:S.hex,wcag:je,apca:$e,isAccessible:je>=z.AA_NORMAL&&$e>=60}})),g=o.filter(s=>s.wcag>=z.AA_NORMAL).sort((s,u)=>s.wcag-u.wcag).slice(0,5),f=o.filter(s=>s.apca>=60).sort((s,u)=>s.apca-u.apca).slice(0,5),a=l.length,h=l.filter(s=>{const u={mode:"oklch",l:s.L,c:s.C,h:s.H};return G(u,d)>=z.AA_NORMAL}).length,p=l.filter(s=>{const u={mode:"oklch",l:s.L,c:s.C,h:s.H};return Math.abs(O(u,d))>=60}).length,b=l.reduce((s,u)=>s+u.C,0)/l.length,C=l.reduce((s,u)=>s+u.L,0)/l.length;return`<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>${n.name} - Color Scale Infographic</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
      background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
      color: #f4f4f5;
      padding: 3rem;
      line-height: 1.6;
    }

    .infographic {
      max-width: 1400px;
      margin: 0 auto;
      background: #18181b;
      border: 1px solid #27272a;
      border-radius: 20px;
      padding: 3rem;
      box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.3);
    }

    .header {
      text-align: center;
      margin-bottom: 3rem;
      padding-bottom: 2rem;
      border-bottom: 2px solid #27272a;
    }

    .header h1 {
      font-size: 3rem;
      font-weight: 800;
      margin-bottom: 0.5rem;
      letter-spacing: -0.025em;
    }

    .header .subtitle {
      font-size: 1.25rem;
      color: #a1a1aa;
    }

    .gradient-strip {
      height: 120px;
      margin: 2rem 0;
      border-radius: 12px;
      background: linear-gradient(to right, ${l.map(s=>s.hex).join(", ")});
      box-shadow: 0 8px 16px rgba(0, 0, 0, 0.4);
      border: 1px solid rgba(255, 255, 255, 0.1);
    }

    .stats-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 1.5rem;
      margin: 3rem 0;
    }

    .stat-card {
      background: #27272a;
      padding: 2rem;
      border-radius: 12px;
      border: 1px solid #3f3f46;
      text-align: center;
    }

    .stat-label {
      font-size: 0.875rem;
      color: #a1a1aa;
      text-transform: uppercase;
      letter-spacing: 0.05em;
      margin-bottom: 0.5rem;
    }

    .stat-value {
      font-size: 2.5rem;
      font-weight: 700;
      color: #fafafa;
    }

    .swatches-row {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
      gap: 1rem;
      margin: 2rem 0;
    }

    .swatch-mini {
      aspect-ratio: 1;
      border-radius: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 700;
      font-size: 1.25rem;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
      border: 1px solid rgba(255, 255, 255, 0.1);
    }

    .section-title {
      font-size: 1.5rem;
      font-weight: 700;
      margin: 3rem 0 1.5rem;
      color: #fafafa;
    }

    .pairs-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 1rem;
      margin: 2rem 0;
    }

    .pair-card {
      background: #27272a;
      border: 1px solid #3f3f46;
      border-radius: 12px;
      padding: 1.5rem;
      display: flex;
      align-items: center;
      gap: 1rem;
    }

    .pair-swatches {
      display: flex;
      gap: 0.5rem;
    }

    .pair-swatch {
      width: 48px;
      height: 48px;
      border-radius: 8px;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
    }

    .pair-info {
      flex: 1;
    }

    .pair-steps {
      font-weight: 700;
      margin-bottom: 0.25rem;
    }

    .pair-ratio {
      font-family: monospace;
      font-size: 0.875rem;
      color: #a1a1aa;
    }

    .badge {
      display: inline-block;
      padding: 0.25rem 0.75rem;
      border-radius: 6px;
      font-size: 0.75rem;
      font-weight: 600;
      margin-left: 0.5rem;
    }

    .badge-wcag { background: #22c55e; color: white; }
    .badge-apca { background: #3b82f6; color: white; }
  </style>
</head>
<body>
  <div class="infographic">
    <div class="header">
      <h1>${n.name}</h1>
      <p class="subtitle">Color Scale Infographic ‚Ä¢ Generated with Luma</p>
    </div>

    <div class="gradient-strip"></div>

    <div class="stats-grid">
      <div class="stat-card">
        <div class="stat-label">Total Colors</div>
        <div class="stat-value">${a}</div>
      </div>
      <div class="stat-card">
        <div class="stat-label">WCAG AA (${z.AA_NORMAL}:1)</div>
        <div class="stat-value">${h} <span style="font-size: 1.25rem; color: #a1a1aa;">/ ${a}</span></div>
      </div>
      <div class="stat-card">
        <div class="stat-label">APCA (Lc 60+)</div>
        <div class="stat-value">${p} <span style="font-size: 1.25rem; color: #a1a1aa;">/ ${a}</span></div>
      </div>
      <div class="stat-card">
        <div class="stat-label">Avg Chroma</div>
        <div class="stat-value">${b.toFixed(3)}</div>
      </div>
      <div class="stat-card">
        <div class="stat-label">Avg Lightness</div>
        <div class="stat-value">${(C*100).toFixed(0)}%</div>
      </div>
      <div class="stat-card">
        <div class="stat-label">Hue</div>
        <div class="stat-value">${Math.round(n.hue)}¬∞</div>
      </div>
    </div>

    <h2 class="section-title">Color Swatches</h2>
    <div class="swatches-row">
      ${l.map((s,u)=>{const S=x[u],R=S>50?"#000":"#fff";return`<div class="swatch-mini" style="background: ${s.hex}; color: ${R};">${S}</div>`}).join("")}
    </div>

    <h2 class="section-title">Top 5 Accessible WCAG Pairs <span class="badge badge-wcag">AA</span></h2>
    <div class="pairs-grid">
      ${g.map(s=>`
        <div class="pair-card">
          <div class="pair-swatches">
            <div class="pair-swatch" style="background: ${s.color1};"></div>
            <div class="pair-swatch" style="background: ${s.color2};"></div>
          </div>
          <div class="pair-info">
            <div class="pair-steps">${s.step1} √ó ${s.step2}</div>
            <div class="pair-ratio">WCAG: ${s.wcag.toFixed(2)}:1 | APCA: Lc ${s.apca.toFixed(0)}</div>
          </div>
        </div>
      `).join("")}
    </div>

    <h2 class="section-title">Top 5 Accessible APCA Pairs <span class="badge badge-apca">Lc 60+</span></h2>
    <div class="pairs-grid">
      ${f.map(s=>`
        <div class="pair-card">
          <div class="pair-swatches">
            <div class="pair-swatch" style="background: ${s.color1};"></div>
            <div class="pair-swatch" style="background: ${s.color2};"></div>
          </div>
          <div class="pair-info">
            <div class="pair-steps">${s.step1} √ó ${s.step2}</div>
            <div class="pair-ratio">WCAG: ${s.wcag.toFixed(2)}:1 | APCA: Lc ${s.apca.toFixed(0)}</div>
          </div>
        </div>
      `).join("")}
    </div>

    <div style="margin-top: 3rem; padding-top: 2rem; border-top: 1px solid #27272a; text-align: center; color: #71717a; font-size: 0.875rem;">
      Generated on ${new Date().toLocaleDateString()} with Luma Color Scale Generator
    </div>
  </div>
</body>
</html>`},He=()=>{switch(v){case"swatches":return Ce();case"guidelines":return We();case"contrast":return Ee();case"matrix":return Ne();case"report":return De();case"code":return`# ${n.name} - Code Export

\`\`\`${$}
${(()=>{switch($){case"css":return _();case"scss":return le();case"tailwind":return de();case"json":return he();case"tokens":return fe();case"swiftui":return ve();case"figma":return we();default:return _()}})()}
\`\`\``;default:return Ce()}},Ce=()=>`# ${n.name} Color Scale

## Swatches

${l.map((i,t)=>`### ${x[t]}
- **Hex:** ${i.hex}
- **OKLCH:** L ${Math.round(i.L*100)} C ${i.C.toFixed(2)} H ${Math.round(i.H)}¬∞
`).join(`
`)}

---
*Generated with Luma on ${new Date().toLocaleDateString()}*
`,We=()=>{const i=xe(l,n,x);return`# ${n.name} - Usage Guidelines

${i.map(t=>`## Step ${t.step}

**Recommendations:**
${t.recommendations.map(r=>`- ${r}`).join(`
`)}

${t.warnings.length>0?`**‚ö†Ô∏è Warnings:**
${t.warnings.map(r=>`- ${r}`).join(`
`)}`:""}

**Best Pairings:** ${t.bestPairings.join(", ")}

---
`).join(`
`)}

*Generated with Luma on ${new Date().toLocaleDateString()}*
`},Ee=()=>{const t=W(n.targetBackground).color,r=J(t),d=r?{mode:"oklch",l:r.l,c:r.c||0,h:r.h||0}:{mode:"oklch",l:1,c:0,h:0};return`# ${n.name} - Contrast Analysis

| Step | Hex | WCAG | APCA | Level |
|------|-----|------|------|-------|
${l.map((o,g)=>{const f=x[g],a={mode:"oklch",l:o.L,c:o.C,h:o.H},h=G(a,d),p=Math.abs(O(a,d)),b=h>=z.AAA_NORMAL?"AAA":h>=z.AA_NORMAL?"AA":h>=z.AA_LARGE?"AA Large":"Fail";return`| ${f} | ${o.hex} | ${h.toFixed(2)}:1 | Lc ${p.toFixed(0)} | ${b} |`}).join(`
`)}

---
*Generated with Luma on ${new Date().toLocaleDateString()}*
`},Ne=()=>`# ${n.name} - Contrast Matrix

Matrix visualization is best viewed in HTML or SVG format.

---
*Generated with Luma on ${new Date().toLocaleDateString()}*
`,De=()=>{const t=W(n.targetBackground).color,r=J(t),d=r?{mode:"oklch",l:r.l,c:r.c||0,h:r.h||0}:{mode:"oklch",l:1,c:0,h:0},o=l.length,g=l.filter(h=>{const p={mode:"oklch",l:h.L,c:h.C,h:h.H};return G(p,d)>=z.AA_NORMAL}).length,f=l.filter(h=>{const p={mode:"oklch",l:h.L,c:h.C,h:h.H};return Math.abs(O(p,d))>=60}).length,a=l.reduce((h,p)=>h+p.C,0)/l.length;return`# ${n.name} - Accessibility Report

## Statistics

- **Total Colors:** ${o}
- **WCAG AA+ Compliant:** ${g} (${Math.round(g/o*100)}%)
- **APCA Compliant (Lc 60+):** ${f} (${Math.round(f/o*100)}%)
- **Average Chroma:** ${a.toFixed(3)}
- **Hue:** ${Math.round(n.hue)}¬∞

## Summary

${g} of ${o} colors meet WCAG AA standards (${z.AA_NORMAL}:1) for normal text. For large text (AA Large at ${z.AA_LARGE}:1), additional steps may be suitable.

---
*Generated with Luma on ${new Date().toLocaleDateString()}*
`},Te=(i,t,r,d,o)=>{let g="",f=`${t.name} - `;switch(i){case"swatches":f+="Color Swatches",g=`
          <div class="swatches-grid">
            ${r.map((s,u)=>{const S=x[u],R=S>50?"#000":"#fff";return`
                <div class="swatch-item" style="background-color: ${s.hex}; color: ${R};">
                  <div class="swatch-step">${S}</div>
                  <div class="swatch-hex">${s.hex}</div>
                  <div class="swatch-values">L${Math.round(s.L*100)} C${s.C.toFixed(2)} H${Math.round(s.H)}¬∞</div>
                </div>
              `}).join("")}
          </div>
        `;break;case"guidelines":f+="Usage Guidelines",g=`
          <div class="guidelines-container">
            ${d.map(s=>`
              <div class="guideline-card">
                <div class="guideline-header">
                  <div class="guideline-swatch" style="background-color: ${s.color};"></div>
                  <h3>${t.name} ${s.step}</h3>
                </div>
                <div class="guideline-body">
                  <h4>Recommendations:</h4>
                  <ul>
                    ${s.recommendations.map(u=>`<li>${u}</li>`).join("")}
                  </ul>
                  ${s.warnings.length>0?`
                    <h4 class="warnings">‚ö†Ô∏è Warnings:</h4>
                    <ul class="warning-list">
                      ${s.warnings.map(u=>`<li>${u}</li>`).join("")}
                    </ul>
                  `:""}
                  <div class="best-pairings">
                    <strong>Best pairings:</strong> ${s.bestPairings.join(", ")}
                  </div>
                </div>
              </div>
            `).join("")}
          </div>
        `;break;case"contrast":f+="Contrast Analysis";const h=W(t.targetBackground).color,p=J(h),b=p?{mode:"oklch",l:p.l,c:p.c||0,h:p.h||0}:{mode:"oklch",l:1,c:0,h:0};g=`
          <table class="contrast-table">
            <thead>
              <tr>
                <th>Step</th>
                <th>Color</th>
                <th>WCAG 2.1</th>
                <th>APCA</th>
                <th>Level</th>
                <th>Sample</th>
              </tr>
            </thead>
            <tbody>
              ${r.map((s,u)=>{const S=x[u],R={mode:"oklch",l:s.L,c:s.C,h:s.H},V=G(R,b),ge=Math.abs(O(R,b)),D=V>=7?"AAA":V>=4.5?"AA":V>=3?"AA Large":"Fail",se=D==="AAA"?"#22c55e":D==="AA"?"#3b82f6":D==="AA Large"?"#eab308":"#ef4444";return`
                  <tr>
                    <td><strong>${S}</strong></td>
                    <td>
                      <div style="display: flex; align-items: center; gap: 8px;">
                        <div style="width: 32px; height: 32px; background: ${s.hex}; border-radius: 4px; border: 1px solid #3f3f46;"></div>
                        <code>${s.hex}</code>
                      </div>
                    </td>
                    <td><strong>${V.toFixed(2)}:1</strong></td>
                    <td><strong>Lc ${ge.toFixed(0)}</strong></td>
                    <td><span class="badge" style="background: ${se};">${D}</span></td>
                    <td>
                      <div style="background: ${I}; color: ${s.hex}; padding: 8px 16px; border-radius: 4px; font-weight: 600;">
                        Sample Text
                      </div>
                    </td>
                  </tr>
                `}).join("")}
            </tbody>
          </table>
        `;break;case"matrix":f+="Contrast Matrix",g=pe(t,r,void 0,x);break;case"code":f+="Code Export",g=`<pre class="code-block">${(()=>{switch($){case"css":return _();case"scss":return le();case"tailwind":return de();case"json":return he();default:return _()}})().replace(/</g,"&lt;").replace(/>/g,"&gt;")}</pre>`;break;default:return Le(t,r,d,o,x)}return`<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>${f}</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
      line-height: 1.6;
      color: #f4f4f5;
      background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
      padding: 2rem;
      min-height: 100vh;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      background: #18181b;
      padding: 3rem;
      border-radius: 16px;
      box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.3);
      border: 1px solid #27272a;
    }

    h1 {
      font-size: 2.5rem;
      margin-bottom: 2rem;
      color: #fafafa;
      font-weight: 700;
    }

    .swatches-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
      gap: 1rem;
      margin: 2rem 0;
    }

    .swatch-item {
      padding: 1.5rem;
      border-radius: 12px;
      transition: all 0.2s ease;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
      border: 1px solid rgba(255, 255, 255, 0.1);
    }

    .swatch-item:hover {
      transform: translateY(-4px);
      box-shadow: 0 12px 24px rgba(0, 0, 0, 0.4);
    }

    .swatch-step {
      font-size: 1.5rem;
      font-weight: 700;
      margin-bottom: 0.5rem;
    }

    .swatch-hex {
      font-family: monospace;
      font-size: 0.875rem;
      margin-bottom: 0.25rem;
    }

    .swatch-values {
      font-family: monospace;
      font-size: 0.75rem;
      opacity: 0.8;
    }

    .guidelines-container {
      display: flex;
      flex-direction: column;
      gap: 1.5rem;
    }

    .guideline-card {
      background: #27272a;
      border: 1px solid #3f3f46;
      border-radius: 12px;
      padding: 1.5rem;
    }

    .guideline-header {
      display: flex;
      align-items: center;
      gap: 1rem;
      margin-bottom: 1rem;
    }

    .guideline-swatch {
      width: 48px;
      height: 48px;
      border-radius: 8px;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
    }

    .guideline-body h4 {
      color: #d4d4d8;
      margin-top: 1rem;
      margin-bottom: 0.5rem;
    }

    .guideline-body ul {
      padding-left: 1.5rem;
      color: #a1a1aa;
    }

    .warnings {
      color: #fbbf24 !important;
    }

    .warning-list {
      color: #fbbf24 !important;
    }

    .best-pairings {
      margin-top: 1rem;
      padding: 0.75rem;
      background: #3f3f46;
      border-radius: 6px;
      font-size: 0.875rem;
    }

    .contrast-table {
      width: 100%;
      border-collapse: collapse;
      margin: 2rem 0;
    }

    .contrast-table th,
    .contrast-table td {
      padding: 1rem;
      text-align: left;
      border-bottom: 1px solid #3f3f46;
    }

    .contrast-table th {
      background: #27272a;
      font-weight: 600;
      color: #d4d4d8;
    }

    .contrast-table tr:hover {
      background: #27272a;
    }

    .badge {
      display: inline-block;
      padding: 0.25rem 0.75rem;
      border-radius: 4px;
      font-size: 0.75rem;
      font-weight: 600;
      color: white;
    }

    code {
      font-family: 'SF Mono', Monaco, Menlo, monospace;
      font-size: 0.875rem;
      color: #a1a1aa;
    }

    .code-block {
      background: #09090b;
      border: 1px solid #3f3f46;
      border-radius: 8px;
      padding: 1.5rem;
      overflow-x: auto;
      font-family: 'SF Mono', Monaco, Menlo, monospace;
      font-size: 0.875rem;
      line-height: 1.6;
      color: #fafafa;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>${f}</h1>
    ${g}
  </div>
</body>
</html>`},te=()=>{if($==="markdown")return He();if($==="svg")return v==="matrix"?pe(n,l,void 0,x):v==="swatches"?`<svg xmlns="http://www.w3.org/2000/svg" width="1200" height="200">
  <defs>
    <linearGradient id="gradient" x1="0%" y1="0%" x2="100%" y2="0%">
      ${l.map((i,t)=>`<stop offset="${t/(l.length-1)*100}%" style="stop-color:${i.hex};stop-opacity:1" />`).join("")}
    </linearGradient>
  </defs>
  <rect width="1200" height="200" fill="url(#gradient)" rx="10"/>
  ${l.map((i,t)=>{const r=t/l.length*1200+10,d=x[t],o=d>50?"#000":"#fff";return`<text x="${r}" y="100" fill="${o}" font-family="Arial" font-size="24" font-weight="bold">${d}</text>`}).join("")}
</svg>`:"<!-- SVG export only supported for Matrix and Swatches modes -->";if($==="html"){if(v==="swatches")return Re();const i=ht(l,x),t=xe(l,n,x);return v==="report"?Le(n,l,t,i,x):Te(v,n,l,t,i)}switch($){case"css":return _();case"scss":return le();case"tailwind":return de();case"json":return he();case"tokens":return fe();case"csv":return Oe();case"swiftui":return ve();case"figma":return we();default:return _()}},Be=async()=>{const i=te();await navigator.clipboard.writeText(i),ue(!0),setTimeout(()=>ue(!1),2e3)},Ie=()=>{const i=te(),t={css:"css",scss:"scss",tailwind:"js",json:"json",markdown:"md",tokens:"json",svg:"svg",html:"html",csv:"csv",swiftui:"swift",figma:"json"},r={css:"text/css",scss:"text/plain",tailwind:"text/javascript",json:"application/json",markdown:"text/markdown",tokens:"application/json",svg:"image/svg+xml",html:"text/html",csv:"text/csv",swiftui:"text/plain",figma:"application/json"},d=new Blob([i],{type:r[$]}),o=URL.createObjectURL(d),g=document.createElement("a");g.href=o,g.download=`${n.name.toLowerCase().replace(/\s+/g,"-")}.${t[$]||"txt"}`,document.body.appendChild(g),g.click(),document.body.removeChild(g),URL.revokeObjectURL(o)},Ue=()=>{if($==="html"||$==="svg"){const i=new Blob([te()],{type:$==="html"?"text/html":"image/svg+xml"}),t=URL.createObjectURL(i);window.open(t,"_blank"),setTimeout(()=>URL.revokeObjectURL(t),100)}},_e=()=>{switch(v){case"swatches":return e.jsx(Ae,{columns:"3",gap:"3",p:"3",children:l.map((a,h)=>{const p=x[h],b={mode:"oklch",l:a.L,c:a.C,h:a.H},C=G(b,U),s=O(b,U);return e.jsx(H,{style:{padding:"16px"},children:e.jsxs(w,{direction:"column",gap:"3",children:[e.jsx(j,{style:{width:"100%",height:"100px",backgroundColor:a.hex,borderRadius:"8px",border:"1px solid rgba(0,0,0,0.1)",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"}}),e.jsxs(w,{justify:"between",align:"center",children:[e.jsx(X,{size:"2",color:"indigo",children:p}),e.jsxs(m,{size:"2",weight:"medium",style:{fontFamily:"monospace",color:"#a1a1aa"},children:["L ",Math.round(a.L*100)]})]}),e.jsx(m,{size:"2",weight:"medium",style:{fontFamily:"monospace"},children:a.hex}),e.jsxs(w,{gap:"2",children:[e.jsxs(X,{color:C>=4.5?"green":C>=3?"yellow":"gray",variant:"soft",size:"2",children:[C.toFixed(1),":1"]}),e.jsxs(X,{color:Math.abs(s)>=60?"green":Math.abs(s)>=45?"yellow":"gray",variant:"soft",size:"2",children:["Lc ",Math.abs(s).toFixed(0)]})]})]})},h)})});case"guidelines":const i=xe(l,n,x);return e.jsx(w,{direction:"column",gap:"3",p:"3",children:i.map((a,h)=>e.jsx(H,{style:{padding:"20px"},children:e.jsxs(w,{direction:"column",gap:"3",children:[e.jsxs(w,{align:"center",gap:"3",children:[e.jsx(j,{style:{width:"40px",height:"40px",backgroundColor:a.color,borderRadius:"6px",border:"1px solid rgba(0,0,0,0.1)",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"}}),e.jsxs(m,{size:"3",weight:"bold",children:["Step ",a.step]})]}),e.jsxs(j,{children:[e.jsx(m,{size:"2",weight:"bold",mb:"2",style:{color:"#d4d4d8"},children:"Recommendations:"}),a.recommendations.map((p,b)=>e.jsxs(m,{size:"2",color:"gray",style:{display:"block",marginBottom:"4px"},children:["‚Ä¢ ",p]},b))]}),a.warnings.length>0&&e.jsxs(j,{children:[e.jsx(m,{size:"2",weight:"bold",mb:"2",color:"red",children:"Warnings:"}),a.warnings.map((p,b)=>e.jsxs(m,{size:"2",color:"red",style:{display:"block"},children:["‚ö†Ô∏è ",p]},b))]}),e.jsxs(w,{gap:"2",children:[e.jsx(m,{size:"1",color:"gray",children:"Best pairings:"}),a.bestPairings.map((p,b)=>e.jsx(X,{variant:"soft",color:"blue",children:p},b))]})]})},h))});case"contrast":const t=l.map((a,h)=>{const p=x[h],b={mode:"oklch",l:a.L,c:a.C,h:a.H},C=G(b,U),s=Math.abs(O(b,U)),u=C>=7?"AAA":C>=4.5?"AA":C>=3?"AA Large":"Fail";return{color:a,step:p,colorOklch:b,wcag:C,apca:s,level:u,idx:h}}),r=ce?t:t.filter(a=>ee?a.apca>=ne&&a.apca<=re:a.wcag>=oe&&a.wcag<=ie);return e.jsxs(j,{p:"3",children:[e.jsx(H,{style:{padding:"16px",marginBottom:"16px"},children:e.jsxs(w,{direction:"column",gap:"3",children:[e.jsxs(w,{align:"center",justify:"between",children:[e.jsx(m,{size:"2",weight:"bold",children:"Contrast Filters"}),e.jsxs(w,{align:"center",gap:"2",children:[e.jsx(m,{size:"2",children:"Show All"}),e.jsx(me,{checked:ce,onCheckedChange:ze})]})]}),!ce&&e.jsxs(e.Fragment,{children:[e.jsxs(w,{gap:"3",align:"center",children:[e.jsx(F,{variant:ee?"solid":"soft",size:"1",onClick:()=>be(!0),children:"APCA"}),e.jsx(F,{variant:ee?"soft":"solid",size:"1",onClick:()=>be(!1),children:"WCAG"})]}),ee?e.jsx(e.Fragment,{children:e.jsxs(j,{children:[e.jsxs(w,{justify:"between",mb:"2",children:[e.jsxs(m,{size:"2",children:["Min APCA: Lc ",ne]}),e.jsxs(m,{size:"2",children:["Max APCA: Lc ",re]})]}),e.jsxs(w,{gap:"3",children:[e.jsx(j,{style:{flex:1},children:e.jsx(ae,{value:[ne],onValueChange:a=>Me(a[0]),min:0,max:120,step:5})}),e.jsx(j,{style:{flex:1},children:e.jsx(ae,{value:[re],onValueChange:a=>Se(a[0]),min:0,max:120,step:5})})]})]})}):e.jsx(e.Fragment,{children:e.jsxs(j,{children:[e.jsxs(w,{justify:"between",mb:"2",children:[e.jsxs(m,{size:"2",children:["Min WCAG: ",oe.toFixed(1),":1"]}),e.jsxs(m,{size:"2",children:["Max WCAG: ",ie.toFixed(1),":1"]})]}),e.jsxs(w,{gap:"3",children:[e.jsx(j,{style:{flex:1},children:e.jsx(ae,{value:[oe],onValueChange:a=>Fe(a[0]),min:1,max:21,step:.5})}),e.jsx(j,{style:{flex:1},children:e.jsx(ae,{value:[ie],onValueChange:a=>Pe(a[0]),min:1,max:21,step:.5})})]})]})}),e.jsxs(m,{size:"2",color:"gray",children:["Showing ",r.length," of ",t.length," ","colors"]})]})]})}),e.jsxs(ot,{variant:"surface",children:[e.jsx(it,{children:e.jsxs(ke,{children:[e.jsx(q,{children:"Pair"}),e.jsx(q,{children:"Colors"}),e.jsx(q,{children:"WCAG"}),e.jsx(q,{children:"APCA"}),e.jsx(q,{children:"Level"})]})}),e.jsx(ct,{children:r.map(a=>e.jsxs(ke,{children:[e.jsx(Q,{children:e.jsxs(m,{style:{fontFamily:"monospace"},children:[a.step," √ó BG"]})}),e.jsx(Q,{children:e.jsxs(w,{gap:"2",align:"center",children:[e.jsx(j,{style:{width:"24px",height:"24px",backgroundColor:a.color.hex,borderRadius:"4px",border:"1px solid rgba(0,0,0,0.1)"}}),e.jsx(j,{style:{width:"24px",height:"24px",backgroundColor:I.color,borderRadius:"4px",border:"1px solid rgba(0,0,0,0.1)"}})]})}),e.jsx(Q,{children:e.jsxs(m,{style:{fontFamily:"monospace"},children:[a.wcag.toFixed(2),":1"]})}),e.jsx(Q,{children:e.jsxs(m,{style:{fontFamily:"monospace"},children:["Lc ",a.apca.toFixed(0)]})}),e.jsx(Q,{children:e.jsx(X,{color:a.level==="AAA"?"green":a.level==="AA"?"blue":a.level==="AA Large"?"yellow":"red",children:a.level})})]},a.idx))})]})]});case"matrix":return e.jsx(j,{p:"3",children:e.jsx("div",{dangerouslySetInnerHTML:{__html:pe(n,l,void 0,x)}})});case"report":const d=l.length,o=l.filter(a=>{const h={mode:"oklch",l:a.L,c:a.C,h:a.H};return G(h,U)>=4.5}).length,g=l.filter(a=>{const h={mode:"oklch",l:a.L,c:a.C,h:a.H};return Math.abs(O(h,U))>=60}).length,f=l.reduce((a,h)=>a+h.C,0)/l.length;return e.jsxs(w,{direction:"column",gap:"4",p:"4",children:[e.jsxs(j,{children:[e.jsx(m,{size:"5",weight:"bold",mb:"2",children:"Accessibility Report"}),e.jsxs(m,{size:"2",color:"gray",children:["Analysis of ",n.name," color scale against WCAG and APCA standards"]})]}),e.jsxs(Ae,{columns:"2",gap:"3",children:[e.jsxs(H,{style:{padding:"16px"},children:[e.jsx(m,{size:"2",color:"gray",mb:"1",children:"Total Colors"}),e.jsx(m,{size:"6",weight:"bold",children:d})]}),e.jsxs(H,{style:{padding:"16px"},children:[e.jsx(m,{size:"2",color:"gray",mb:"1",children:"WCAG AA+ Compliant"}),e.jsxs(m,{size:"6",weight:"bold",style:{color:o/d>.5?"#22c55e":"#facc15"},children:[o," (",Math.round(o/d*100),"%)"]})]}),e.jsxs(H,{style:{padding:"16px"},children:[e.jsx(m,{size:"2",color:"gray",mb:"1",children:"APCA Compliant"}),e.jsxs(m,{size:"6",weight:"bold",style:{color:g/d>.5?"#22c55e":"#facc15"},children:[g," (",Math.round(g/d*100),"%)"]})]}),e.jsxs(H,{style:{padding:"16px"},children:[e.jsx(m,{size:"2",color:"gray",mb:"1",children:"Avg Chroma"}),e.jsx(m,{size:"6",weight:"bold",children:f.toFixed(3)})]})]}),e.jsxs(H,{style:{padding:"16px",backgroundColor:"#fef3c7"},children:[e.jsx(m,{size:"2",weight:"bold",mb:"2",children:"üìä Contrast Summary"}),e.jsxs(m,{size:"2",children:[o," of ",d," colors meet WCAG AA standards (4.5:1) for normal text. For large text (AA Large at 3:1), consider using additional steps."]})]})]});case"code":default:return e.jsx(j,{p:"3",children:e.jsx("pre",{style:{fontFamily:"monospace",fontSize:"12px",lineHeight:"1.5",color:"#fafafa",margin:0,whiteSpace:"pre-wrap",wordBreak:"break-word"},children:te()})})}};return e.jsx(Je,{open:K,onOpenChange:T,children:e.jsxs(Ke,{style:{maxWidth:"800px",maxHeight:"90vh"},children:[e.jsxs(Ye,{children:["Export ",n.name]}),e.jsx(qe,{size:"2",mb:"4",children:"Export color scales in multiple formats for design tools, frameworks, and documentation"}),e.jsxs(j,{mb:"4",children:[e.jsx(m,{size:"2",weight:"bold",mb:"2",style:{color:"var(--gray-12)"},children:"Preview Mode"}),e.jsxs(w,{gap:"2",wrap:"wrap",children:[e.jsx(F,{variant:v==="swatches"?"solid":"soft",size:"2",onClick:()=>c("swatches"),children:"Swatches"}),e.jsx(F,{variant:v==="guidelines"?"solid":"soft",size:"2",onClick:()=>c("guidelines"),children:"Guidelines"}),e.jsx(F,{variant:v==="contrast"?"solid":"soft",size:"2",onClick:()=>c("contrast"),children:"Contrast"}),e.jsx(F,{variant:v==="matrix"?"solid":"soft",size:"2",onClick:()=>c("matrix"),children:"Matrix"}),e.jsx(F,{variant:v==="report"?"solid":"soft",size:"2",onClick:()=>c("report"),children:"Report"}),e.jsx(F,{variant:v==="code"?"solid":"soft",size:"2",onClick:()=>c("code"),children:"Code"})]})]}),e.jsxs(j,{mb:"4",children:[e.jsx(m,{size:"2",weight:"bold",mb:"2",style:{color:"var(--gray-12)"},children:"Export Format"}),e.jsx(Qe,{value:$,onValueChange:i=>Y(i),children:e.jsxs(Xe,{children:[y.includes("css")&&e.jsx(P,{value:"css",children:"CSS"}),y.includes("scss")&&e.jsx(P,{value:"scss",children:"SCSS"}),y.includes("tailwind")&&e.jsx(P,{value:"tailwind",children:"Tailwind"}),y.includes("json")&&e.jsx(P,{value:"json",children:"JSON"}),y.includes("markdown")&&e.jsx(P,{value:"markdown",children:"Markdown"}),y.includes("tokens")&&e.jsx(P,{value:"tokens",children:"Tokens"}),y.includes("svg")&&e.jsx(P,{value:"svg",children:"SVG"}),y.includes("html")&&e.jsx(P,{value:"html",children:"HTML"}),y.includes("csv")&&e.jsx(P,{value:"csv",children:"CSV"}),y.includes("swiftui")&&e.jsx(P,{value:"swiftui",children:"SwiftUI"}),y.includes("figma")&&e.jsx(P,{value:"figma",children:"Figma"})]})})]}),e.jsxs(w,{direction:"column",gap:"2",mb:"4",children:[e.jsxs(w,{align:"center",gap:"2",children:[e.jsx(me,{checked:A,onCheckedChange:E}),e.jsx(m,{size:"2",children:"Include metadata (comments, hue, chroma)"})]}),e.jsxs(w,{align:"center",gap:"2",children:[e.jsx(me,{checked:k,onCheckedChange:N}),e.jsx(m,{size:"2",children:"Include P3 color space values"})]})]}),e.jsx(j,{mt:"3",style:{backgroundColor:"#09090b",border:"1px solid #3f3f46",borderRadius:"8px",overflow:"hidden"},children:e.jsx(Ze,{style:{height:"400px"},children:_e()})}),e.jsxs(w,{gap:"3",mt:"4",justify:"end",children:[e.jsx(F,{variant:"soft",color:"gray",onClick:T,children:"Close"}),($==="html"||$==="svg")&&e.jsxs(F,{variant:"soft",onClick:Ue,children:[e.jsx(et,{})," Open in New Tab"]}),e.jsxs(F,{variant:"soft",onClick:Ie,children:[e.jsx(tt,{})," Download"]}),e.jsx(F,{onClick:Be,children:B?e.jsxs(e.Fragment,{children:[e.jsx(st,{})," Copied!"]}):e.jsxs(e.Fragment,{children:[e.jsx(at,{})," Copy"]})})]}),e.jsx(nt,{children:e.jsx("button",{style:{position:"absolute",top:"16px",right:"16px",background:"none",border:"none",cursor:"pointer",padding:"4px",display:"flex",alignItems:"center",justifyContent:"center",color:"#a1a1aa"},"aria-label":"Close",children:e.jsx(rt,{width:"20",height:"20"})})})]})})};export{vt as AdvancedExportDialog};
